{"version":3,"sources":["webpack://CallControl/webpack/bootstrap","webpack://CallControl/./node_modules/events/events.js","webpack://CallControl/./node_modules/uuid/lib/bytesToUuid.js","webpack://CallControl/./node_modules/uuid/lib/rng-browser.js","webpack://CallControl/./node_modules/uuid/v4.js","webpack://CallControl/./src/CallControl/Action/Action.ts","webpack://CallControl/./src/CallControl/Action/AnswerAction.ts","webpack://CallControl/./src/CallControl/Action/BlindTransferAction.ts","webpack://CallControl/./src/CallControl/Action/BridgeAction.ts","webpack://CallControl/./src/CallControl/Action/GetCalls.ts","webpack://CallControl/./src/CallControl/Action/GetPhoneCapabilitiesAction.ts","webpack://CallControl/./src/CallControl/Action/HangupAction.ts","webpack://CallControl/./src/CallControl/Action/MakeCallAction.ts","webpack://CallControl/./src/CallControl/Action/ModifyCallAction.ts","webpack://CallControl/./src/CallControl/Call/CallOrigin/AccountRouterCallOrigin.ts","webpack://CallControl/./src/CallControl/Call/CallOrigin/CallOrigin.ts","webpack://CallControl/./src/CallControl/Call/CallOrigin/CallOriginFactory.ts","webpack://CallControl/./src/CallControl/Call/CallOrigin/CallOriginType.ts","webpack://CallControl/./src/CallControl/Call/CallOrigin/QueueCallOrigin.ts","webpack://CallControl/./src/CallControl/Call/CallOrigin/UserRouterCallOrigin.ts","webpack://CallControl/./src/CallControl/Call/Channel.ts","webpack://CallControl/./src/CallControl/Call/ChannelDirection.ts","webpack://CallControl/./src/CallControl/Call/ChannelState.ts","webpack://CallControl/./src/CallControl/CallControl.ts","webpack://CallControl/./src/CallControl/Error/CallControlError.ts","webpack://CallControl/./src/CallControl/Error/ErrorCodes.ts","webpack://CallControl/./src/Client/ClearvoxAPIClient.ts","webpack://CallControl/./src/Client/ClearvoxSocketClient.ts","webpack://CallControl/./src/index.ts","webpack://CallControl/external \"axios\"","webpack://CallControl/external \"io\""],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,cAAc;AACd;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;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","file":"clearvox-callcontrol.web.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","export abstract class Action {\n    protected constructor(\n        private actionName: string,\n        private params: { [key: string]: any } = {}\n    ) {\n\n    }\n\n    getName() {\n        return this.actionName;\n    }\n\n    getParams() {\n        return this.params;\n    }\n}","import {ModifyCallAction} from \"./ModifyCallAction\";\n\nexport class AnswerAction extends ModifyCallAction {\n    constructor(callID: string, phone?: string) {\n        super(callID, 'answer', {\n            phone: phone,\n        });\n    }\n}","import {ModifyCallAction} from \"./ModifyCallAction\";\n\nexport class BlindTransferAction extends ModifyCallAction {\n    constructor(callID: string, number: string, phoneID?: string) {\n        super(callID, 'blindTransfer', {\n            number: number,\n            phone_id: phoneID,\n        });\n    }\n}","import {ModifyCallAction} from \"./ModifyCallAction\";\n\nexport class BridgeAction extends ModifyCallAction {\n    constructor(callID: string, otherCallID: string, phoneID?: string, otherPhoneID?: string) {\n        super(callID, 'bridge', {\n            other_call_id: otherCallID,\n            phone_id: phoneID,\n            other_phone_id: otherPhoneID,\n        });\n    }\n}","import {Action} from \"./Action\";\n\nexport class GetCalls extends Action {\n    constructor() {\n        super('getCalls');\n    }\n}","import {Action} from \"./Action\";\n\nexport class GetPhoneCapabilitiesAction extends Action {\n    constructor(phone: string) {\n        super('getPhoneCapabilities', {\n            phone: phone,\n        });\n    }\n}","import {ModifyCallAction} from \"./ModifyCallAction\";\n\nexport class HangupAction extends ModifyCallAction {\n    constructor(callID: string) {\n        super(callID, 'hangup');\n    }\n}","import {Action} from \"./Action\";\n\nexport class MakeCallAction extends Action {\n    constructor(number: string, phone?: string, autoAnswer?: boolean, callReference?: string) {\n        super('makeCall', {\n            number: number,\n            phone: phone,\n            auto_answer: autoAnswer,\n            call_reference: callReference,\n        });\n    }\n}","import {Action} from \"./Action\";\n\nexport abstract class ModifyCallAction extends Action {\n    protected constructor(\n        private callID: string,\n        actionName: string,\n        params: { [key: string]: any } = {}\n    ) {\n        super(actionName, params);\n    }\n\n    getCallID(): string {\n        return this.callID;\n    }\n}","import {CallOrigin} from \"./CallOrigin\";\nimport {CallOriginType} from \"./CallOriginType\";\n\nexport class AccountRouterCallOrigin extends CallOrigin {\n    constructor(private routerID: string) {\n        super(CallOriginType.ACCOUNT_ROUTER);\n    }\n\n    getRouterID() {\n        return this.routerID;\n    }\n}","import {CallOriginType} from \"./CallOriginType\";\n\nexport class CallOrigin {\n    constructor(private type: CallOriginType) {\n\n    }\n\n    getType() {\n        return this.type;\n    }\n}","import {CallOriginType} from \"./CallOriginType\";\nimport {UserRouterCallOrigin} from \"./UserRouterCallOrigin\";\nimport {AccountRouterCallOrigin} from \"./AccountRouterCallOrigin\";\nimport {QueueCallOrigin} from \"./QueueCallOrigin\";\n\nexport class CallOriginFactory {\n    static make(data: {type: CallOriginType, [key: string]: any}) {\n        switch (data.type) {\n            case CallOriginType.USER_ROUTER:\n                return new UserRouterCallOrigin(data.user_router_id);\n            case CallOriginType.ACCOUNT_ROUTER:\n                return new AccountRouterCallOrigin(data.account_router_id);\n            case CallOriginType.QUEUE:\n                return new QueueCallOrigin(data.queue_id);\n        }\n    }\n}","export enum CallOriginType {\n    ACCOUNT_ROUTER = 0,\n    USER_ROUTER = 1,\n    QUEUE = 2,\n}","import {CallOrigin} from \"./CallOrigin\";\nimport {CallOriginType} from \"./CallOriginType\";\n\nexport class QueueCallOrigin extends CallOrigin {\n    constructor(private queueID: string) {\n        super(CallOriginType.QUEUE);\n    }\n\n    getQueueID() {\n        return this.queueID;\n    }\n}","import {CallOrigin} from \"./CallOrigin\";\nimport {CallOriginType} from \"./CallOriginType\";\n\nexport class UserRouterCallOrigin extends CallOrigin {\n    constructor(private routerID: string) {\n        super(CallOriginType.USER_ROUTER);\n    }\n\n    getRouterID() {\n        return this.routerID;\n    }\n}","import * as EventEmitter from 'events';\nimport {ChannelState} from \"./ChannelState\";\nimport {CallOrigin} from \"./CallOrigin/CallOrigin\";\nimport {CallOriginFactory} from \"./CallOrigin/CallOriginFactory\";\nimport {ChannelDirection} from \"./ChannelDirection\";\nimport {CallControlError} from \"../Error/CallControlError\";\n\nexport class Channel extends EventEmitter {\n    public answered: boolean = false;\n    public isRecording: boolean;\n    public name: string;\n    public phoneHumanName: string;\n    public number: string;\n    public direction: ChannelDirection;\n    public originate: boolean = false;\n    public state: ChannelState;\n    public duration: number;\n    public otherTransferCallID: string;\n    public origins: CallOrigin[] = [];\n    public oldCallID: string;\n    private callReference: string;\n\n    constructor(private callID: string, private channelID: string, private phoneID: string) {\n        super();\n    }\n\n    onUpdate(callback: (channel: Channel) => any) {\n        this.on('update', callback);\n    }\n\n    onEnd(callback: (channel: Channel) => any) {\n        this.on('end', callback);\n    }\n\n    onError(callback: (error: CallControlError) => any) {\n        this.on('error', callback);\n    }\n\n    getCallID() {\n        return this.callID;\n    }\n\n    getChannelID() {\n        return this.channelID;\n    }\n\n    getPhoneID() {\n        return this.phoneID;\n    }\n\n    getReference() {\n        return this.callReference;\n    }\n\n    static make(data: any, channel: Channel = null): Channel {\n        if (!channel) {\n            channel = new Channel(data.call_id, data.channel_id, data.phone_id);\n        }\n\n        channel.answered = data.hasOwnProperty('answered') ? data.answered : channel.answered;\n        channel.number = data.hasOwnProperty('number') ? data.number : channel.number;\n        channel.name = data.hasOwnProperty('name') ? data.name : channel.name;\n        channel.direction = data.hasOwnProperty('direction') ? data.direction : channel.direction;\n        channel.phoneHumanName = data.hasOwnProperty('phone_human_name') ? data.phone_human_name : channel.phoneHumanName;\n        channel.originate = data.hasOwnProperty('originate') ? data.originate : channel.originate;\n        channel.state = data.hasOwnProperty('state') ? data.state : channel.state;\n        channel.duration = data.hasOwnProperty('duration') ? data.duration : channel.duration;\n        channel.otherTransferCallID = data.hasOwnProperty('other_transfer_call_id') ? data.other_transfer_call_id : channel.otherTransferCallID;\n        channel.isRecording = data.hasOwnProperty('is_recording') ? data.is_recording : channel.isRecording;\n\n        if (data.hasOwnProperty('origin')) {\n            channel.origins.push(CallOriginFactory.make(data.origin));\n        }\n\n        if (data.hasOwnProperty('old_call_id')) {\n            channel.oldCallID = data.old_call_id;\n            channel.callID = data.call_id;\n        }\n\n        channel.callReference = data.hasOwnProperty('call_reference') ? data.call_reference : channel.callReference;\n\n        return channel;\n    }\n}","export enum ChannelDirection {\n    INCOMING = 'in',\n    OUTGOING = 'out',\n}","export enum ChannelState {\n    STARTING = 0,\n    RINGING = 1,\n    ACTIVE = 2,\n    ENDED = 3,\n}","import {ClearvoxSocketClient} from \"../Client/ClearvoxSocketClient\";\nimport {Channel} from \"./Call/Channel\";\nimport {Action} from \"./Action/Action\";\nimport {MakeCallAction} from \"./Action/MakeCallAction\";\nimport {GetCalls} from \"./Action/GetCalls\";\nimport {HangupAction} from \"./Action/HangupAction\";\nimport {ModifyCallAction} from \"./Action/ModifyCallAction\";\nimport {ClearvoxAPIClient} from \"../Client/ClearvoxAPIClient\";\nimport {AnswerAction} from \"./Action/AnswerAction\";\nimport {BlindTransferAction} from \"./Action/BlindTransferAction\";\n\nimport * as uuid from \"uuid/v4\";\nimport * as EventEmitter from \"events\";\nimport {BridgeAction} from \"./Action/BridgeAction\";\nimport {GetPhoneCapabilitiesAction} from \"./Action/GetPhoneCapabilitiesAction\";\nimport {PhoneCapabilities} from \"./Phone/PhoneCapabilities\";\nimport {CallControlError} from \"./Error/CallControlError\";\n\nexport class CallControl extends EventEmitter {\n    private callsPromise: Promise<any[]> = Promise.resolve([]);\n    private channels: Channel[];\n\n    constructor(private socketClient: ClearvoxSocketClient) {\n        super();\n        this.init();\n    }\n\n    static connect(serverURL: string, apiKey: string) {\n        const clearvoxAPIClient = new ClearvoxAPIClient(serverURL, apiKey);\n\n        return clearvoxAPIClient.getSocketInfo().then((socketInfo) => {\n            const clearvoxSocketClient = new ClearvoxSocketClient(serverURL, socketInfo.token, socketInfo.accountID);\n            return new CallControl(clearvoxSocketClient);\n        });\n    }\n\n    private init() {\n        this.socketClient.on('call:start', (data) => {\n            const newChannel = Channel.make(data);\n            this.channels.push(newChannel);\n            this.emit('call:start', newChannel);\n            if (newChannel.getReference()) {\n                this.emit('start:' + newChannel.getReference(), newChannel);\n            }\n        });\n\n        this.socketClient.on('call:update', (data) => {\n            let channel: Channel;\n\n            if ('old_call_id' in data) {\n                channel = this.findChannel(data.old_call_id, data.channel_id);\n            } else {\n                channel = this.findChannel(data.call_id, data.channel_id);\n            }\n\n            if (channel) {\n                channel = Channel.make(data, channel);\n                this.emit('call:update', channel);\n                channel.emit('update', channel);\n            }\n        });\n\n        this.socketClient.on('call:end', (data) => {\n            let channel = this.findChannel(data.call_id, data.channel_id);\n            channel = Channel.make(data, channel);\n\n            this.emit('call:end', channel);\n            channel.emit('end', channel);\n        });\n\n        this.socketClient.on('call:error', (error) => {\n            const callControlError = CallControlError.make(error);\n\n            let channels = this.findCallChannels(callControlError.getCallID());\n\n            channels.forEach((channel: Channel) => {\n                channel.emit('error', callControlError);\n            });\n        });\n\n        return this.reloadChannels();\n    }\n\n    findChannel(callID: string, channelID: string): Channel {\n        return this.channels.find(channel => channel.getCallID() === callID && channel.getChannelID() === channelID);\n    }\n\n    findCallChannels(callID: string): Channel[] {\n        return this.channels.filter(channel => channel.getCallID() === callID);\n    }\n\n    private sendAction(action: Action): void {\n        let data: { [key: string]: any } = {\n            action: action.getName(),\n            params: action.getParams(),\n        };\n\n        if (action instanceof ModifyCallAction) {\n            data.call_id = action.getCallID();\n        }\n\n        this.socketClient.emit('callcontrol', data);\n    }\n\n    async getChannels(): Promise<Channel[]> {\n        await this.callsPromise;\n\n        return this.channels;\n    }\n\n    private reloadChannels(): Promise<Channel[]> {\n        this.callsPromise = new Promise((resolve) => {\n            this.sendAction(new GetCalls());\n\n            this.socketClient.once('calls', (data: any) => {\n                this.channels = data.map(Channel.make);\n\n                resolve(this.channels);\n                return;\n            });\n        });\n\n        return this.callsPromise;\n    }\n\n    public onChannelStart(callback: (channel: Channel) => any): void {\n        this.on('call:start', callback);\n    }\n\n    public onChannelEnd(callback: (channel: Channel) => any): void {\n        this.on('call:end', callback);\n    }\n\n    public onChannelUpdate(callback: (channel: Channel) => any): void {\n        this.on('call:update', callback);\n    }\n\n    public dial(number: string, phone?: string, autoAnswer?: boolean): Promise<Channel> {\n        return new Promise((resolve, reject) => {\n\n            const callReference = uuid();\n            this.sendAction(new MakeCallAction(number, phone, autoAnswer, callReference));\n\n            setTimeout(() => {\n                this.removeListener('start:' + callReference, resolve);\n                reject(new Error('timeout'));\n            }, 2000);\n\n            this.once('start:' + callReference, resolve);\n        });\n    }\n\n    public blindTransfer(callID: string, number: string, channelToTransfer?: Channel): void {\n        const transfereePhoneID = channelToTransfer ? channelToTransfer.getPhoneID() : undefined;\n\n        this.sendAction(new BlindTransferAction(callID, number, transfereePhoneID));\n    }\n\n    public hangup(channel: Channel): void {\n        this.sendAction(new HangupAction(channel.getCallID()));\n    }\n\n    public answer(channel: Channel, phone?: string): void {\n        this.sendAction(new AnswerAction(channel.getCallID(), phone ? phone : channel.getPhoneID()));\n    }\n\n    public bridge(callID: string, otherCallID: string, channelToBridge?: Channel, otherChannelToBridge?: Channel): void {\n        this.sendAction(new BridgeAction(\n            callID,\n            otherCallID,\n            channelToBridge ? channelToBridge.getPhoneID() : undefined,\n            otherChannelToBridge ? otherChannelToBridge.getPhoneID() : undefined,\n        ));\n    }\n\n    public getPhoneCapabilities(phone: string): Promise<{ phoneID: string, capabilities: PhoneCapabilities }> {\n        return new Promise((resolve, reject) => {\n            this.sendAction(new GetPhoneCapabilitiesAction(phone));\n\n            const onPhoneCapabilities = (data: any) => {\n                if (data.requestedPhone === phone) {\n                    resolve({phoneID: data.phone, capabilities: data.capabilities});\n                }\n            };\n\n            setTimeout(() => {\n                this.removeListener('phone:capabilities', onPhoneCapabilities);\n                reject(new Error('timeout'));\n            }, 2000);\n\n            this.socketClient.on('phone:capabilities', onPhoneCapabilities);\n        });\n    }\n}","import {ErrorCodes} from \"./ErrorCodes\";\n\nexport class CallControlError {\n    constructor(\n        private code: number,\n        private message: string,\n        private callID?: string) {\n\n    }\n\n    getCode() {\n        return ErrorCodes[this.code];\n    }\n\n    getRawCode() {\n        return this.code;\n    }\n\n    getMessage() {\n        return this.message;\n    }\n\n    getCallID() {\n        return this.callID;\n    }\n\n    static make(data: any) {\n        return new CallControlError(data.code, data.message, data.call_id);\n    }\n\n\n}","export enum ErrorCodes {\n    INVALID_ACTION_ERROR = 400,\n    CALL_NOT_FOUND_ERR = 401,\n    NO_REGISTERED_PHONE_FOUND_ERROR = 402,\n    ACTION_FAILED_UNKNOWN = 403,\n    FLEX_NOT_LOGGED_IN_ERROR = 404,\n    CALL_TO_BRIDGE_NOT_FOUND = 405,\n    CANNOT_DECIDE_CHANNEL = 406,\n    CANNOT_ANSWER_ANSWERED = 407,\n    CALLS_MUST_BE_ANSWERED = 408,\n    COULD_NOT_REGISTER_APP = 409,\n}","import axios, {AxiosInstance, AxiosRequestConfig, AxiosResponse} from 'axios';\n\nexport class ClearvoxAPIClient {\n    private baseURL: string;\n    private client: AxiosInstance;\n\n    constructor(serverURL: string, private apiKey: string) {\n        this.baseURL = serverURL + '/api/1/';\n        this.init();\n    }\n\n    private init() {\n\n        this.client = axios.create({\n            baseURL: this.baseURL,\n            timeout: 10000,\n            headers: {\n                'X-Auth-Token': this.apiKey,\n            }\n        });\n    }\n\n    public makeRequest(config: AxiosRequestConfig) {\n        return this.client.request(config);\n    }\n\n    makeGetRequest(url: string) {\n        return this.makeRequest({\n            method: 'get',\n            url: url,\n        });\n    }\n\n    makePostRequest(url: string, data: any = {}): Promise<AxiosResponse> {\n        return this.makeRequest({\n            method: 'post',\n            url: url,\n            data: JSON.stringify(data),\n            headers: {\n                \"content-type\": \"application/json;charset=UTF-8\",\n            },\n        });\n    }\n\n    getSocketInfo(): Promise<{token: string, accountID: string}> {\n        return this.makePostRequest('/auth/verify', {api_key: this.apiKey}).then((response: AxiosResponse) => {\n            return {\n                token: response.data.data.token,\n                accountID: response.headers['x-uc-aid'],\n            };\n        });\n    }\n}","import * as socketIO from 'socket.io-client';\n\nexport class ClearvoxSocketClient {\n    private socket: any;\n\n    constructor(private baseURL: string, private token: string, private accountID: string) {\n        this.init();\n    }\n\n    private init() {\n        let options: SocketIOClient.ConnectOpts = {\n            path: '/event-server',\n            query: 'token=' + this.token + '&X-UC-AID=' + this.accountID,\n        };\n\n        this.socket = socketIO(this.baseURL.toString(), options);\n\n        this.socket.on('connect', function () {\n            console.log('Socket connected.');\n        });\n\n        this.socket.on('connect_error', function (error: any) {\n            console.log('Socket connection error', error);\n        });\n\n        this.socket.on('disconnect', function (error: any) {\n            if (error === 'io server disconnect') {\n                console.log('Socket connection lost', error);\n            }\n            console.log('Disconnected by server', error);\n        });\n    }\n\n    onConnect(callback: () => {}) {\n        this.socket.on('connect', callback);\n        return this;\n    }\n\n    onError(callback: (error: any) => {}) {\n        this.socket.on('connect_error', callback);\n        return this;\n    }\n\n    onDisconnect(callback: (error: any) => {}) {\n        this.socket.on('disconnect', callback);\n        return this;\n    }\n\n    on(event: string, callback: (data: any) => any) {\n        this.socket.on(event, callback);\n        return this;\n    }\n\n    once(event: string, callback: (data: any) => any) {\n        this.socket.once(event, callback);\n        return this;\n    }\n\n    emit(channel: string, data: any, callback: () => any = null) {\n        this.socket.emit(channel, data, callback);\n    }\n}","export {ChannelDirection} from \"./CallControl/Call/ChannelDirection\";\nexport {ChannelState} from \"./CallControl/Call/ChannelState\";\nexport {CallOriginType} from \"./CallControl/Call/CallOrigin/CallOriginType\";\nexport {ErrorCodes} from \"./CallControl/Error/ErrorCodes\";\n\nimport {CallControl} from \"./CallControl/CallControl\";\n\nexport {CallControl} from \"./CallControl/CallControl\";\n// Added so we don't need to call CallControl.CallControl.connect() in web\nexport const connect = CallControl.connect;\n\n\n\n// These are not exported as they might move to a seperate library\n// export {ClearvoxAPIClient} from \"./Client/ClearvoxAPIClient\";\n// export {ClearvoxSocketClient} from \"./Client/ClearvoxSocketClient\";","module.exports = axios;","module.exports = io;"],"sourceRoot":""}