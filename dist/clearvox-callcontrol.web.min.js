var CallControl=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=29)}([function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r){void 0===r&&(r={});var o=t.call(this,n,r)||this;return o.callID=e,o}return r(e,t),e.prototype.getCallID=function(){return this.callID},e}(n(2).Action);e.ModifyCallAction=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ACCOUNT_ROUTER=0]="ACCOUNT_ROUTER",t[t.USER_ROUTER=1]="USER_ROUTER",t[t.QUEUE=2]="QUEUE"}(e.CallOriginType||(e.CallOriginType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){void 0===e&&(e={}),this.actionName=t,this.params=e}return t.prototype.getName=function(){return this.actionName},t.prototype.getParams=function(){return this.params},t}();e.Action=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.type=t}return t.prototype.getType=function(){return this.type},t}();e.CallOrigin=r},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var c=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function a(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var o,i,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),c=i[e]),void 0===c)c=i[e]=n,++t._eventsCount;else if("function"==typeof c?c=i[e]=r?[n,c]:[c,n]:r?c.unshift(n):c.push(n),(o=a(t))>0&&c.length>o&&!c.warned){c.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=c.length,function(t){console&&console.warn&&console.warn(t)}(s)}return t}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function p(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):_(o,o.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||c(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var c;if(e.length>0&&(c=e[0]),c instanceof Error)throw c;var s=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw s.context=c,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var a=u.length,l=_(u,a);for(n=0;n<a;++n)i(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,o,i,c;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){c=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,c||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},s.prototype.listenerCount=h,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function c(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(c,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(26),s=n(24),u=n(19),a=n(18),l=n(17),f=n(0),p=n(16),h=n(14),_=n(13),y=n(12),d=n(4),v=n(9),O=n(8),C=n(7),g=function(t){function e(e){var n=t.call(this)||this;return n.socketClient=e,n.callsPromise=Promise.resolve([]),n.init(),n}return r(e,t),e.connect=function(t,n){return new p.ClearvoxAPIClient(t,n).getSocketInfo().then(function(n){return new e(new c.ClearvoxSocketClient(t,n.token,n.accountID))})},e.prototype.init=function(){var t=this;return this.socketClient.on("call:start",function(e){var n=s.Channel.make(e);t.channels.push(n),t.emit("call:start",n),n.getReference()&&t.emit("start:"+n.getReference(),n)}),this.socketClient.on("call:update",function(e){var n;(n="old_call_id"in e?t.findChannel(e.old_call_id,e.channel_id):t.findChannel(e.call_id,e.channel_id))&&(n=s.Channel.make(e,n),t.emit("call:update",n),n.emit("update",n))}),this.socketClient.on("call:end",function(e){var n=t.findChannel(e.call_id,e.channel_id);n=s.Channel.make(e,n),t.emit("call:end",n),n.emit("end",n)}),this.socketClient.on("call:error",function(e){var n=C.CallControlError.make(e);t.findCallChannels(n.getCallID()).forEach(function(t){t.emit("error",n)})}),this.reloadChannels()},e.prototype.findChannel=function(t,e){return this.channels.find(function(n){return n.getCallID()===t&&n.getChannelID()===e})},e.prototype.findCallChannels=function(t){return this.channels.filter(function(e){return e.getCallID()===t})},e.prototype.sendAction=function(t){var e={action:t.getName(),params:t.getParams()};t instanceof f.ModifyCallAction&&(e.call_id=t.getCallID()),this.socketClient.emit("callcontrol",e)},e.prototype.getChannels=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this.callsPromise];case 1:return t.sent(),[2,this.channels]}})})},e.prototype.reloadChannels=function(){var t=this;return this.callsPromise=new Promise(function(e){t.sendAction(new a.GetCalls),t.socketClient.once("calls",function(n){t.channels=n.map(s.Channel.make),e(t.channels)})}),this.callsPromise},e.prototype.onChannelStart=function(t){this.on("call:start",t)},e.prototype.onChannelEnd=function(t){this.on("call:end",t)},e.prototype.onChannelUpdate=function(t){this.on("call:update",t)},e.prototype.dial=function(t,e,n){var r=this;return new Promise(function(o,i){var c=y();r.sendAction(new u.MakeCallAction(t,e,n,c)),setTimeout(function(){r.removeListener("start:"+c,o),i(new Error("timeout"))},2e3),r.once("start:"+c,o)})},e.prototype.blindTransfer=function(t,e,n){var r=n?n.getPhoneID():void 0;this.sendAction(new _.BlindTransferAction(t,e,r))},e.prototype.hangup=function(t){this.sendAction(new l.HangupAction(t.getCallID()))},e.prototype.answer=function(t,e){this.sendAction(new h.AnswerAction(t.getCallID(),e||t.getPhoneID()))},e.prototype.bridge=function(t,e,n,r){this.sendAction(new v.BridgeAction(t,e,n?n.getPhoneID():void 0,r?r.getPhoneID():void 0))},e.prototype.getPhoneCapabilities=function(t){var e=this;return new Promise(function(n,r){e.sendAction(new O.GetPhoneCapabilitiesAction(t));var o=function(e){e.requestedPhone===t&&n({phoneID:e.phone,capabilities:e.capabilities})};setTimeout(function(){e.removeListener("phone:capabilities",o),r(new Error("timeout"))},2e3),e.socketClient.on("phone:capabilities",o)})},e}(d);e.CallControl=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.INVALID_ACTION_ERROR=400]="INVALID_ACTION_ERROR",t[t.CALL_NOT_FOUND_ERR=401]="CALL_NOT_FOUND_ERR",t[t.NO_REGISTERED_PHONE_FOUND_ERROR=402]="NO_REGISTERED_PHONE_FOUND_ERROR",t[t.ACTION_FAILED_UNKNOWN=403]="ACTION_FAILED_UNKNOWN",t[t.FLEX_NOT_LOGGED_IN_ERROR=404]="FLEX_NOT_LOGGED_IN_ERROR",t[t.CALL_TO_BRIDGE_NOT_FOUND=405]="CALL_TO_BRIDGE_NOT_FOUND",t[t.CANNOT_DECIDE_CHANNEL=406]="CANNOT_DECIDE_CHANNEL",t[t.CANNOT_ANSWER_ANSWERED=407]="CANNOT_ANSWER_ANSWERED",t[t.CALLS_MUST_BE_ANSWERED=408]="CALLS_MUST_BE_ANSWERED",t[t.COULD_NOT_REGISTER_APP=409]="COULD_NOT_REGISTER_APP"}(e.ErrorCodes||(e.ErrorCodes={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),o=function(){function t(t,e,n){this.code=t,this.message=e,this.callID=n}return t.prototype.getCode=function(){return r.ErrorCodes[this.code]},t.prototype.getRawCode=function(){return this.code},t.prototype.getMessage=function(){return this.message},t.prototype.getCallID=function(){return this.callID},t.make=function(e){return new t(e.code,e.message,e.call_id)},t}();e.CallControlError=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,"getPhoneCapabilities",{phone:e})||this}return r(e,t),e}(n(2).Action);e.GetPhoneCapabilitiesAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r,o){return t.call(this,e,"bridge",{other_call_id:n,phone_id:r,other_phone_id:o})||this}return r(e,t),e}(n(0).ModifyCallAction);e.BridgeAction=o},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e,n){var r=n(11),o=n(10);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var c=(t=t||{}).random||(t.rng||r)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,e)for(var s=0;s<16;++s)e[i+s]=c[s];return e||o(c)}},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r){return t.call(this,e,"blindTransfer",{number:n,phone_id:r})||this}return r(e,t),e}(n(0).ModifyCallAction);e.BlindTransferAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){return t.call(this,e,"answer",{phone:n})||this}return r(e,t),e}(n(0).ModifyCallAction);e.AnswerAction=o},function(t,e){t.exports=axios},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),o=function(){function t(t,e){this.apiKey=e,this.baseURL=t+"/api/1/",this.init()}return t.prototype.init=function(){this.client=r.default.create({baseURL:this.baseURL,timeout:1e4,headers:{"X-Auth-Token":this.apiKey}})},t.prototype.makeRequest=function(t){return this.client.request(t)},t.prototype.makeGetRequest=function(t){return this.makeRequest({method:"get",url:t})},t.prototype.makePostRequest=function(t,e){return void 0===e&&(e={}),this.makeRequest({method:"post",url:t,data:JSON.stringify(e),headers:{"content-type":"application/json;charset=UTF-8"}})},t.prototype.getSocketInfo=function(){return this.makePostRequest("/auth/verify",{api_key:this.apiKey}).then(function(t){return{token:t.data.data.token,accountID:t.headers["x-uc-aid"]}})},t}();e.ClearvoxAPIClient=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e){return t.call(this,e,"hangup")||this}return r(e,t),e}(n(0).ModifyCallAction);e.HangupAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){return t.call(this,"getCalls")||this}return r(e,t),e}(n(2).Action);e.GetCalls=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n,r,o){return t.call(this,"makeCall",{number:e,phone:n,auto_answer:r,call_reference:o})||this}return r(e,t),e}(n(2).Action);e.MakeCallAction=o},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(1),c=function(t){function e(e){var n=t.call(this,i.CallOriginType.QUEUE)||this;return n.queueID=e,n}return r(e,t),e.prototype.getQueueID=function(){return this.queueID},e}(o.CallOrigin);e.QueueCallOrigin=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(1),c=function(t){function e(e){var n=t.call(this,i.CallOriginType.ACCOUNT_ROUTER)||this;return n.routerID=e,n}return r(e,t),e.prototype.getRouterID=function(){return this.routerID},e}(o.CallOrigin);e.AccountRouterCallOrigin=c},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(1),c=function(t){function e(e){var n=t.call(this,i.CallOriginType.USER_ROUTER)||this;return n.routerID=e,n}return r(e,t),e.prototype.getRouterID=function(){return this.routerID},e}(o.CallOrigin);e.UserRouterCallOrigin=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(22),i=n(21),c=n(20),s=function(){function t(){}return t.make=function(t){switch(t.type){case r.CallOriginType.USER_ROUTER:return new o.UserRouterCallOrigin(t.user_router_id);case r.CallOriginType.ACCOUNT_ROUTER:return new i.AccountRouterCallOrigin(t.account_router_id);case r.CallOriginType.QUEUE:return new c.QueueCallOrigin(t.queue_id)}},t}();e.CallOriginFactory=s},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),i=n(23),c=function(t){function e(e,n,r){var o=t.call(this)||this;return o.callID=e,o.channelID=n,o.phoneID=r,o.answered=!1,o.originate=!1,o.origins=[],o}return r(e,t),e.prototype.onUpdate=function(t){this.on("update",t)},e.prototype.onEnd=function(t){this.on("end",t)},e.prototype.onError=function(t){this.on("error",t)},e.prototype.getCallID=function(){return this.callID},e.prototype.getChannelID=function(){return this.channelID},e.prototype.getPhoneID=function(){return this.phoneID},e.prototype.getReference=function(){return this.callReference},e.make=function(t,n){return void 0===n&&(n=null),n||(n=new e(t.call_id,t.channel_id,t.phone_id)),n.answered=t.hasOwnProperty("answered")?t.answered:n.answered,n.number=t.hasOwnProperty("number")?t.number:n.number,n.name=t.hasOwnProperty("name")?t.name:n.name,n.direction=t.hasOwnProperty("direction")?t.direction:n.direction,n.phoneHumanName=t.hasOwnProperty("phone_human_name")?t.phone_human_name:n.phoneHumanName,n.originate=t.hasOwnProperty("originate")?t.originate:n.originate,n.state=t.hasOwnProperty("state")?t.state:n.state,n.duration=t.hasOwnProperty("duration")?t.duration:n.duration,n.otherTransferCallID=t.hasOwnProperty("other_transfer_call_id")?t.other_transfer_call_id:n.otherTransferCallID,n.isRecording=t.hasOwnProperty("is_recording")?t.is_recording:n.isRecording,t.hasOwnProperty("origin")&&n.origins.push(i.CallOriginFactory.make(t.origin)),t.hasOwnProperty("old_call_id")&&(n.oldCallID=t.old_call_id,n.callID=t.call_id),n.callReference=t.hasOwnProperty("call_reference")?t.call_reference:n.callReference,n},e}(o);e.Channel=c},function(t,e){t.exports=io},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=function(){function t(t,e,n){this.baseURL=t,this.token=e,this.accountID=n,this.init()}return t.prototype.init=function(){var t={path:"/event-server",query:"token="+this.token+"&X-UC-AID="+this.accountID};this.socket=r(this.baseURL.toString(),t),this.socket.on("connect",function(){console.log("Socket connected.")}),this.socket.on("connect_error",function(t){console.log("Socket connection error",t)}),this.socket.on("disconnect",function(t){"io server disconnect"===t&&console.log("Socket connection lost",t),console.log("Disconnected by server",t)})},t.prototype.onConnect=function(t){return this.socket.on("connect",t),this},t.prototype.onError=function(t){return this.socket.on("connect_error",t),this},t.prototype.onDisconnect=function(t){return this.socket.on("disconnect",t),this},t.prototype.on=function(t,e){return this.socket.on(t,e),this},t.prototype.once=function(t,e){return this.socket.once(t,e),this},t.prototype.emit=function(t,e,n){void 0===n&&(n=null),this.socket.emit(t,e,n)},t}();e.ClearvoxSocketClient=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.STARTING=0]="STARTING",t[t.RINGING=1]="RINGING",t[t.ACTIVE=2]="ACTIVE",t[t.ENDED=3]="ENDED"}(e.ChannelState||(e.ChannelState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.INCOMING="in",t.OUTGOING="out"}(e.ChannelDirection||(e.ChannelDirection={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(28);e.ChannelDirection=r.ChannelDirection;var o=n(27);e.ChannelState=o.ChannelState;var i=n(1);e.CallOriginType=i.CallOriginType;var c=n(6);e.ErrorCodes=c.ErrorCodes;var s=n(5),u=n(5);e.CallControl=u.CallControl,e.connect=s.CallControl.connect}]);